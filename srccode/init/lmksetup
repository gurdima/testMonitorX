#!/bin/bash

echo "Setting LMK via testmem..."

#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x80 in register 0x000   RESET=1
testmem -w 0x40000000 0x40000
testmem -w 0x40000000 0x40000
testmem -w 0x40000000 0x40080
#close  all transaction
testmem -w 0x40000000 0x00000
sleep 1s
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0xF9 in register 0x106
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40006
testmem -w 0x40000000 0x400F9
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x08 in register 0x108
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40008
testmem -w 0x40000000 0x40008
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x20 in register 0x10C
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4000C
testmem -w 0x40000000 0x40020
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x71 in register 0x10E
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4000E
testmem -w 0x40000000 0x40071
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x05 in register 0x10F
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4000F
testmem -w 0x40000000 0x40005
sleep 1s
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x02 in register 0x110
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40010
testmem -w 0x40000000 0x40002
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0xF9 in register 0x116
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40016
testmem -w 0x40000000 0x400F9
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x01 in register 0x117
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40017
testmem -w 0x40000000 0x40001
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0xF9 in register 0x11E
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4001E
testmem -w 0x40000000 0x400F9
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x10 in register 0x120
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40020
testmem -w 0x40000000 0x40010
#close  all transaction
testmem -w 0x40000000 0x00000
sleep 1s
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x00 in register 0x123
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40023
testmem -w 0x40000000 0x40000
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x71 in register 0x126
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40026
testmem -w 0x40000000 0x40071
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x01 in register 0x127
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40027
testmem -w 0x40000000 0x40001
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x08 in register 0x128
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40028
testmem -w 0x40000000 0x40008
#close  all transaction
testmem -w 0x40000000 0x00000
sleep 1s
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x00 in register 0x12B
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4002B
testmem -w 0x40000000 0x40000
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x20 in register 0x12C
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4002C
testmem -w 0x40000000 0x40020

#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x70 in register 0x12E
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4002E
testmem -w 0x40000000 0x40070
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x11 in register 0x12F
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4002F
testmem -w 0x40000000 0x40011
sleep 1s
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0xF9 in register 0x136
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40036
testmem -w 0x40000000 0x400F9
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x20 in register 0x138
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40038
testmem -w 0x40000000 0x40020
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x03 in register 0x139
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40039
testmem -w 0x40000000 0x40003
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x01 in register 0x13A
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4003A
testmem -w 0x40000000 0x40001
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x00 in register 0x13B
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4003B
testmem -w 0x40000000 0x40000
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x00 in register 0x13E
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4003E
testmem -w 0x40000000 0x40000
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x80 in register 0x140
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40040
testmem -w 0x40000000 0x40080
#close  all transaction
testmem -w 0x40000000 0x00000
sleep 1s
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x11 in register 0x143
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40043
testmem -w 0x40000000 0x40011
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0xFF in register 0x144
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40044
testmem -w 0x40000000 0x400FF
#close  all transaction
testmem -w 0x40000000 0x00000
sleep 1s
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x7F in register 0x145
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40045
testmem -w 0x40000000 0x4007F
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x42 in register 0x147
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40047
testmem -w 0x40000000 0x40042
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x02 in register 0x149
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40049
testmem -w 0x40000000 0x40002
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x00 in register 0x160
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40060
testmem -w 0x40000000 0x40000
#close  all transaction
testmem -w 0x40000000 0x00000
sleep 1s
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x02 in register 0x161
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40061
testmem -w 0x40000000 0x40002
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x40 in register 0x162
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40062
testmem -w 0x40000000 0x40040
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x00 in register 0x163
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40063
testmem -w 0x40000000 0x40000
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x00 in register 0x164
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40064
testmem -w 0x40000000 0x40000
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x0C in register 0x165
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40065
testmem -w 0x40000000 0x4000C
#close  all transaction
testmem -w 0x40000000 0x00000
##
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x15 in register 0x17c
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4007c
testmem -w 0x40000000 0x40015
#close all transaction
testmem -w 0x40000000 0x00000
sleep 1s
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x33 in register 0x17d
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4007d
testmem -w 0x40000000 0x40033
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x00 in register 0x166
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40066
testmem -w 0x40000000 0x40000
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x00 in register 0x167
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40067
testmem -w 0x40000000 0x40000
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x30 in register 0x168
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40068
testmem -w 0x40000000 0x40030
#close  all transaction
testmem -w 0x40000000 0x00000
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x13 in register 0x16E
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x4006E
testmem -w 0x40000000 0x40013
#close  all transaction
testmem -w 0x40000000 0x00000
sleep 1s
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0xb1 in register 0x143
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40043
testmem -w 0x40000000 0x400bi
#close all transaction
testmem -w 0x40000000 0x00000
sleep 1s
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x91 in register 0x143
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40043
testmem -w 0x40000000 0x40091
#close all transaction
testmem -w 0x40000000 0x00000
##
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x11 in register 0x143
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40043
testmem -w 0x40000000 0x40011
#close all transaction
testmem -w 0x40000000 0x00000
##
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0xff in register 0x144
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40044
testmem -w 0x40000000 0x400ff
#close  all transaction
testmem -w 0x40000000 0x00000
##
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x31 in register 0x143
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40043
testmem -w 0x40000000 0x40031
#close all transaction
testmem -w 0x40000000 0x00000
##
#open transaction cs2
testmem -w 0x40000000 0x40000
#write 0x11 in register 0x143
testmem -w 0x40000000 0x40001
testmem -w 0x40000000 0x40043
testmem -w 0x40000000 0x40011
#close all transaction
testmem -w 0x40000000 0x00000
echo "Successfully"
exit 0

